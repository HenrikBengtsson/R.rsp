<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R packages: RSP vignettes • R.rsp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="R packages: RSP vignettes">
<meta property="og:description" content="R.rsp">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">R.rsp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.45.0-9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Dynamic_document_creation_using_RSP.html">Dynamic document creation using RSP</a>
    </li>
    <li>
      <a href="../articles/RSP_intro.html">RSP: A Brief Introduction</a>
    </li>
    <li>
      <a href="../articles/RSP_refcard.html">RSP Markup Language - Reference Card</a>
    </li>
    <li>
      <a href="../articles/R_packages-LaTeX_vignettes.html">R packages: LaTeX vignettes</a>
    </li>
    <li>
      <a href="../articles/R_packages-RSP_vignettes.html">R packages: RSP vignettes</a>
    </li>
    <li>
      <a href="../articles/R_packages-Static_PDF_and_HTML_vignettes.html">R packages: Static PDF and HTML vignettes</a>
    </li>
    <li>
      <a href="../articles/R_packages-Vignettes_prior_to_R300.html">R packages: Vignettes prior to R 3.0.0</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/HenrikBengtsson/R.rsp/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>R packages: RSP vignettes</h1>
                        <h4 data-toc-skip class="author">Henrik
Bengtsson</h4>
                        <h4 data-toc-skip class="author">Ann
Statisticus</h4>
                        <h4 data-toc-skip class="author">Joe
Analyst</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/HenrikBengtsson/R.rsp/blob/HEAD/vignettes/R_packages-RSP_vignettes.md.rsp" class="external-link"><code>vignettes/R_packages-RSP_vignettes.md.rsp</code></a></small>
      <div class="hidden name"><code>R_packages-RSP_vignettes.md.rsp</code></div>

    </div>

    
    
<p>Henrik Bengtsson on NA</p>
<p>When building an R package, Sweave vignettes are automatically
recognized, compiled into PDFs, which in turn are listed along with
their source in the R help system, e.g. <code><a href="https://rdrr.io/r/utils/help.start.html" class="external-link">help.start()</a></code>. These
package vignettes are also listed online on the CRAN and Bioconductor
package pages, e.g. <a href="https://cran.r-project.org/package=R.rsp" class="external-link">RSP</a>.</p>
<p>Other vignette formats than Sweave can also be included in R
packages. To include such a vignette in a package, three things need to
be correct:</p>
<ol style="list-style-type: decimal">
<li>the location of the vignette source files,</li>
<li>the vignettes must contain a special R vignette markup, and</li>
<li>the <code>DESCRIPTION</code> file needs to be adjusted.</li>
</ol>
<p>For example, assume that you setup a new package called ‘YAPackage’
with two RSP vignettes. First, start by making sure they are placed in
the package’s `vignettes/’ directory;</p>
<ul>
<li>
<code>vignettes/YAPackage-Intro.tex.rsp</code> - an RSP-embedded TeX
vignette</li>
<li>
<code>vignettes/YAPackage-ExampleReport.md.rsp</code> - an
RSP-embedded Markdown vignette</li>
</ul>
<p>Second, make sure they both carry the required R vignette markup,
which are <code>%\VignetteIndexEntry{...}</code> and
<code>%\VignetteEngine{...}</code>. The former controls the title shown
in R’s help indices as well as in online package respositories such as
CRAN. Moreover, the same vignette markup is used everywhere in R
regardless of vignette format (TeX, Markdown, HTML, etc.) and vignette
engine (Sweave, RSP, knitr, etc.). What may differ is how you include it
the source vignette such that it won’t be part of the final vignette.
With RSP this is easy, because you can do it the same way regardless of
format by using RSP preprocessing directives. For example, in
<code>vignettes/YAPackage-Intro.tex.rsp</code> we have the following in
the preamble of the TeX file:</p>
<pre><code>&lt;%@meta language="R-vignette" content="--------------------------------
  DIRECTIVES FOR R:

  %\VignetteIndexEntry{YAPackage: An Introduction}
  %\VignetteAuthor{Ann Statisticus}
  %\VignetteKeyword{R}
  %\VignetteKeyword{package}
  %\VignetteKeyword{introduction}
  %\VignetteTangle{no}
  %\VignetteEngine{R.rsp::rsp}
--------------------------------------------------------------------"%&gt;</code></pre>
<p>and in <code>vignettes/YAPackage-ExampleReport.md.rsp</code> we use
(somewhere at the top):</p>
<pre><code>&lt;%@meta language="R-vignette" content="--------------------------------
  DIRECTIVES FOR R:

  %\VignetteIndexEntry{Example Report by YAPackage}
  %\VignetteAuthor{Joe Analyst}
  %\VignetteEngine{R.rsp::rsp}
--------------------------------------------------------------------"%&gt;</code></pre>
<p>The advantage of using RSP meta directive for this is that it will
also populate corresponding meta variables, i.e. <code>title</code>,
<code>author</code>, and <code>keywords</code>. This information can be
be reused in the vignette, without having to retype the same
information. For instance, in the TeX vignette we can use
<code>\title{&lt;%@meta name="title"%&gt;}</code> and
<code>\author{&lt;%@meta name="author"%&gt;}</code>. For Markdown, these
meta variables will also be passed along to any Markdown-to-HTML
postprocessor such that they annotate the corresponding HTML
<code>&lt;head&gt;</code> tags.</p>
<p>Furthermore, in the above example additional custom vignette markup
was used, which has special meaning to some vignette engines. For
instance, <code>%\VignetteTangle{no}</code> causes the RSP vignette
engine to skip the tangling of that vignette, i.e. the
<code>YAPackage-Intro.R</code> script file will not be generated, which
otherwise is the default.</p>
<p>The last thing to do is to make sure <code>R.rsp</code> is added to
the following two fields of the <code>DESCRIPTION</code> file:</p>
<pre><code><span><span class="va">Suggests</span><span class="op">:</span> <span class="va">R.rsp</span></span>
<span><span class="va">VignetteBuilder</span><span class="op">:</span> <span class="va">R.rsp</span></span></code></pre>
<p>That’s it. <code>R CMD build YAPackage</code> will now detect the two
vignettes, compile them into their final formats (PDF for the TeX
vignette and HTML for the Markdown vignette), and include them as part
of the R help system. If you submit the package to CRAN or Bioconductor,
the vignettes will also appear online.</p>
<p><em>Why is this vignette in HTML format and not in PDF as other
vignettes typically are? This particular vignette was written using
RSP-embedded Markdown, which after being compiled into plain Markdown is
automatically post processed to HTML. This illustrates well how RSP can
be used for any type of vignette format.</em></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5</p> and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9004.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
